<html xmlns:p="tapestry:parameter"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>


	<t:border xmlns:t="http://tapestry.apache.org/schema/tapestry_5_0_0.xsd">
					<h1>Creacion de Censo</h1>
	
		<!--//////////////////////////////////////////////////////////////////////////////////////////
		   ///////////////////////////////// NAME CENSUS ZONE /////////////////////////////////////// 
		  ////////////////////////////////////////////////////////////////////////////////////////// -->
		  				
		
			<t:zone t:id="censusNameZone" id="censusNameZone" visible="!censusNameVisible">
		 	  
				<t:form t:id="censusNameForm" t:zone="^">
					<table>
						<tr>
							<td><label>Nombre:</label></td>
							<td><t:textfield t:id="censusName" validate="required,minLength=5"/></td>
																				  
							<td>
								<t:if test="nameNotAvalible">
									NOMBRE NO DISPONIBLE
								</t:if>
							</td>
						</tr>
						<tr>
							<td></td>
							<td><p style="text-align:center;"><input t:type="submit" value="Next->"/></p></td> 
						</tr>
					</table>
				</t:form>
		</t:zone>
		
		
			<!--//////////////////////////////////////////////////////////////////////////////////////////
			   /////////////////////////////// SWITCH SEARCH TYPE /////////////////////////////////////// 
			  ////////////////////////////////////////////////////////////////////////////////////////// -->
			
			<t:zone t:id="searchTypeZone" t:update="show" visible="secondVisible"> 
						
				<t:if test="advancedSearch">
					<t:eventlink t:event="switchSearch" zone="^">Basica</t:eventlink>
					<p:else>
						<t:eventlink t:event="switchSearch" zone="^">Avanzada</t:eventlink>
					</p:else>
				</t:if>
			</t:zone>
			
			
			<!--//////////////////////////////////////////////////////////////////////////////////////////
			   ///////////////////////////////////  BASIC SEARCH  /////////////////////////////////////// 
			  ////////////////////////////////////////////////////////////////////////////////////////// -->
			<t:zone t:id="basicSearchZone" id="basicSearchZone" t:update="show" visible="secondVisible">
				<t:if test="!advancedSearch">
					<t:form t:id="basicForm" zone="^">	
						<table>
							<tr>
								<td><label>Email</label></td>
								<td><t:textfield t:id="email"/></td>
							</tr>
							
							<tr>
								
								<td></td>
								<td><p style="text-align:center;"><input t:type="submit" value="submit"/>
									<t:eventlink t:event="reset" zone="^"><button>Reset</button></t:eventlink></p></td>
							</tr>
						</table>
					</t:form>
								
				</t:if>	
			</t:zone>
			
			
			<!--//////////////////////////////////////////////////////////////////////////////////////////
			   ///////////////////////////////// ADVANCED SEARCH  /////////////////////////////////////// 
			  ////////////////////////////////////////////////////////////////////////////////////////// -->
			<t:zone t:id="advancedSearchZone" id="advancedSearchZone" t:update="show" visible="secondVisible">
				<t:if test="advancedSearch">
						<t:form t:id="advancedSearchForm" zone="^">
							<table>
						 		<tr>
										<td><label>Admin</label></td>
										<td><t:checkbox t:id="admin" value="profile.admin"/></td>
								</tr>
								<tr>
										<td><label>Maker</label></td>
										<td><t:checkbox t:id="maker" value="profile.maker"/></td>
								</tr>
					 			<tr>
					 					<td><label>First Name</label></td>
					 					<td><t:textfield t:id="firstName"></t:textfield></td>
					 			</tr>
					 			<tr>
					 					<td><label>Last Name</label></td>
					 					<td><t:textfield t:id="lastName"></t:textfield></td>
					 			</tr>
					 			<tr>
					 					<td><label>University</label></td>
					 					<td><t:textfield t:id="university" value="profile.university"/></td>
					 			</tr>
						 		<tr>
							 			<td><label>City</label></td>
							 			<td><t:textfield t:id="city" value="profile.city"/></td>
						 		</tr>
						 		<tr>
							 			<td><label>Country</label></td>
							 			<td><t:textfield t:id="country" value="profile.country"/></td>
						 		</tr>
								<tr>
									<td></td>
									<td><p style="text-align:center;"><input t:type="submit" value="submit"/>
										<t:eventlink t:event="reset" zone="^"><button>Reset</button></t:eventlink></p></td>
								</tr>
							</table>
						</t:form>
				</t:if>
			</t:zone>
			
		    <!--//////////////////////////////////////////////////////////////////////////////////////////
			   ///////////////////////////////// SEARCH LIST GRID  ////////////////////////////////////// 
			  ////////////////////////////////////////////////////////////////////////////////////////// -->
		
			<t:zone t:id="searchListZone" id="searchListZone" t:update="show" visible="secondVisible">
									
				<t:form t:id="addForm" zone="^">
					<table>
						<tr><td><t:actionLink t:id="showAll" zone="^">showAllUsers</t:actionLink></td></tr>
							<tr><td>
								<t:if test="showSearchList">				
									<t:grid source="users" row="user" exclude="lastLog,regDate,password,plainPass" add="add" reorder="add" inplace="true">
										<p:addCell>
											<t:checkbox t:id="add"/>
										</p:addCell>
									</t:grid>
								</t:if>
							</td></tr>
							<tr><td>
								<t:if test="showSearchList">
									<input t:type="submit" value="add"/>
									<t:actionLink t:id="addAll" zone="^"><button>AddAll</button></t:actionLink>
								</t:if>
							</td></tr>
							
					</table>
				</t:form>
				
			</t:zone>
			
	     	<!--//////////////////////////////////////////////////////////////////////////////////////////
			   ///////////////////////////////// CENSUS LIST GRID  ////////////////////////////////////// 
			  ////////////////////////////////////////////////////////////////////////////////////////// -->
			  
			<t:zone t:id="censusListZone" id="censusListZone" t:update="show"  visible="secondVisible">
				<t:if test="showCensusList">
					<t:form t:id="removeForm" zone="^">
						<table>
							<tr><td>
							<t:grid source="censusList" row="user" exclude="lastLog,regDate,password,plainPass" add="remove" reorder="remove" inplace="true">
								<p:removeCell>
										<t:checkbox t:id="remove"/>						
								</p:removeCell>
							</t:grid>
							</td></tr>
							<tr><td>
								<input t:type="submit" value="remove"/>
								<t:actionLink t:id="removeAll" zone="^"><button>removeAll</button></t:actionLink>
							</td></tr>
						</table>
					</t:form>
				</t:if>
			</t:zone>
			<t:zone t:id="buttonsZone" id="buttonsZone" visible="secondVisible">
				
						<t:actionLink t:id="backbut" zone="^"><button> &lt;-back </button></t:actionLink>
						<t:if test="showCensusList">
							<t:actionLink t:id="endbut" zone="^"><button> Save census </button></t:actionLink>
						</t:if>
			</t:zone>

	</t:border>


</html>