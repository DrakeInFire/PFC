<html xmlns:p="tapestry:parameter"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
   
	<t:border xmlns:t="http://tapestry.apache.org/schema/tapestry_5_0_0.xsd">
		<t:zone t:id="usergrid" id="usergrid">	
			<t:grid source="users" reorder="email,admin,maker" row="user" add="id,Edit,Delete" exclude="password">
				<p:editcell>
					<t:if test="!editing">
						<t:if test="!owner">
							<t:actionlink t:id="editbut" zone="^" context="user.id"><button>edit</button></t:actionlink>
						</t:if>
					</t:if>
				</p:editcell>
				<p:deleteCell>
					<t:if test="!editing">
						<t:if test="!owner">
							<t:actionlink t:id="deleteuser" context="user.email" zone="^"><button>Delete</button></t:actionlink>
						</t:if>
					</t:if>
				</p:deleteCell>
				<p:idcell>
					${user.id }
				</p:idcell>
				
			</t:grid>
		</t:zone>
		
		
		<t:zone t:id="editZone" id="editZone">
			<t:if test="editing">
				<t:form t:id="editForm" zone="^">
				<table>
					<tr>
						<td>
							<label>Email</label>
						</td>
						<td>
							<t:textfield t:id="emailfield" t:value="editprof.email"/>
						</td>
						<td>
							<t:if test="nonavalible">
								email en uso
							</t:if>
						</td>
					</tr>
					<tr>
						<td>
							<label>Admin</label>
						</td>
						<td>
							<t:checkbox t:id="adminbox" t:value="editprof.admin"/>
						</td>
					</tr>
					<tr>
						<td>
							<label>Maker</label>
						</td>
						<td>
							<t:checkbox t:id="makerbox" t:value="editprof.maker"/>
						</td>
					</tr>
					<tr>
						<td>
							<label>FirstName</label>
						</td>
						<td>
							<t:textfield t:id="firstnamefield" t:value="editprof.firstname"/>
						</td>
					</tr>
					<tr>
						<td>
							<label>LastName</label>
						</td>
						<td>
							<t:textfield t:id="lastnamefield" t:value="editprof.lastname"/>
						</td>
					</tr>
					<tr>
						<td>
							<label>University</label>
						</td>
						<td>
							<t:textfield t:id="universityfield" t:value="editprof.university"/>
						</td>
					</tr>
					<tr>
						<td>
							<label>City</label>
						</td>
						<td>
							<t:textfield t:id="cityfield" t:value="editprof.city"/>
						</td>
					</tr>
					<tr>
						<td>
							<label>Country</label>
						</td>
						<td>
							<t:textfield t:id="countryfield" t:value="editprof.country"/>
						</td>
					</tr>
					<tr>
						<td>
							<label><input t:type="submit" t:id="save" value="Save"/></label>
						</td>
						<td>
							<input t:type="submit" t:id="cancel" value="Cancel" t:mode="cancel"/>
						</td>
					</tr>
				</table>
				</t:form>
			
			
				<t:actionlink t:id="endbut" zone="^">END</t:actionlink>
			</t:if>
		</t:zone>
		
		
	</t:border>
	
		
			
	


</html>
